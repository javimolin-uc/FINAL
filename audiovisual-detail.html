<!DOCTYPE html>
<html lang="es">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:100,200,300,400,500,600,700,800,900" rel="stylesheet">

      <link rel="icon" href="assets/images/logoro.png" type="image/png">
    <!-- Primary Meta Tags -->
<title>MOLIN DISEÑO - AUDIOVISUAL</title>
<meta name="title" content="MOLIN DISEÑO" />
<meta name="description" content="¡Bienvenidos a mi portafolio de diseño integral! Descubre mi pasión por la creatividad y la innovación en cada proyecto." />
<link rel="icon" href="assets/images/meta.jpg" /> 

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website" />
<meta property="og:url" content="https://molin.cl/" />
<meta property="og:title" content="MOLIN DISEÑO" />
<meta property="og:description" content="¡Bienvenidos a mi portafolio de diseño integral! Descubre mi pasión por la creatividad y la innovación en cada proyecto." />
<meta property="og:image" content="assets/images/meta.jpg" />

<!-- Twitter -->
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:url" content="https://molin.cl/" />
<meta property="twitter:title" content="MOLIN DISEÑO" />
<meta property="twitter:description" content="¡Bienvenidos a mi portafolio de diseño integral! Descubre mi pasión por la creatividad y la innovación en cada proyecto." />
<meta property="twitter:image" content="assets/images/meta.jpg" />

<!-- Meta Tags Generated with https://metatags.io -->

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">


    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="assets/css/fontawesome.css">
    <link rel="stylesheet" href="assets/css/templatemo-eduwell-style.css">
    <link rel="stylesheet" href="assets/css/owl.css">
    <link rel="stylesheet" href="assets/css/lightbox.css">
<!--

TemplateMo 573 EduWell

https://templatemo.com/tm-573-eduwell

-->
  </head>

<body>


  <header class="header-area header-sticky">
      <div class="container">
          <div class="row">
              <div class="col-12">
                  <nav class="main-nav">
                      <!-- ***** Logo Start ***** -->
                      <a href="index.html" class="logo">
                          <img src="assets/images/molin.png" alt="MOLIN">
                      </a>
                      <!-- ***** Logo End ***** -->
                      <!-- ***** Menu Start ***** -->
                      <ul class="nav">
                        <li><a href="index.html">Inicio</a></li>
                        <li><a href="index.html">Áreas</a></li>
                        <li><a href="index.html">Softwares</a></li>
                          <li class="has-sub scroll-to-section">
                              <a class="active" href="#portafolio" >Portafolio</a>
                              <ul class="sub-menu">
                                  <li><a href="uxui.html">UX/UI</a></li>
                                  <li><a href="branding.html">Branding</a></li>
                                  <li><a href="frontend.html">Frontend</a></li>
                                  <li><a href="dibujo.html">Dibujo</a></li>
                                  <li><a href="audiovisual.html">Audiovisual</a></li>
                                 <li><a href="otros.html">Otros</a></li>
                              </ul>
                          </li>
                        <li><a href="index.html">Testimonios</a></li>
                        <li><a href="index.html">Contáctame</a></li>
                          <li class=""><a href="sobre.html">Sobre mí</a></li>
                      </ul>        
                      <a class='menu-trigger'>
                          <span>Menu</span>
                      </a>
                      <!-- ***** Menu End ***** -->
                  </nav>
              </div>
          </div>
      </div>
  </header>



<main>
  <section class="contact-us our-office">
    <div class="container">
      <div class="row">
        <div class="col-lg-4">
          <div class="left-info">
            <div class="section-heading">
              <h6 id="area"></h6>
              <h4 id="titulo"></h4>
            </div>
            <p id="descripcion"></p>
            <p id="description"></p>
            <ul id="punteo"></ul>
<div class="main-button-gradient d-flex justify-content-between align-items-center">
  <a href="audiovisual.html" id="boton"><strong>Volver a AUDIOVISUAL</strong></a>
  <a href="#" id="pdfexport" class="btn-plus modal-link"><strong>+</strong></a>
</div>
          </div>
        </div>
        <div class="col-lg-8">
          <div id="video">
            <div class="thumb">
              <img src="" alt="" id="foto">
            </div>
          </div>
        </div>
        <div class="col-lg-12">
          <ul class="social-icons">
            <li><a href="https://instagram.com/javimolin" target="_blank"><i class="fa fa-instagram"></i></a></li>
            <li><a href="https://github.com/javimolin-uc" target="_blank"><i class="fa fa-github"></i></a></li>
            <li><a href="https://www.linkedin.com/in/mar%C3%ADa-javiera-molin-aguad/" target="_blank"><i class="fa fa-linkedin"></i></a></li>
            <li><a href="https://wa.me/56966303974?text=¡Hola!,%20vi%20tu%20portafolio%20de%20diseño%20y%20me%20gustaría%20trabajar%20contigo." target="_blank"><i class="fa fa-whatsapp"></i></a></li>
            <li><a href="mailto:javimolin@gmail.com"><i class="fa fa-envelope"></i></a></li>
          </ul>
        </div>
        <div class="col-lg-12">
          <p class="copyright">María Javiera Molin Aguad &nbsp; <i class="fa fa-star"></i> &nbsp; 2023 Diseñadora Integral en Formación.
          </p>
        </div>
      </div>
    </div>
  </section>
</main>

<!-- Modal -->
<div class="modal fade" id="pdfModal" tabindex="-1" aria-labelledby="pdfModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="pdfModalLabel">Más sobre este trabajo</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <!-- Aquí se mostrará el contenido dinámico del modal -->
      </div>
    </div>
  </div>
</div>




<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
<script>
  // Obtener referencias a los elementos del DOM
  const areaElement = document.getElementById("area");
  const tituloElement = document.getElementById("titulo");
  const descripcionElement = document.getElementById("descripcion");
      const descriptionElement = document.getElementById("description");
  const punteoElement = document.getElementById("punteo");
  const botonElement = document.getElementById("boton");
  const fotoElement = document.getElementById("foto");
    
    

  // Obtener el valor de "nro" de la URL y tratarlo como un número
  var n = new URLSearchParams(window.location.search).get("nro");
  n = Number(n);

  // Función asincrónica para cargar los datos y actualizar el DOM
  async function cargarDatos() {
    try {
      // Obtener los datos del archivo JSON
      const response = await fetch("audiovisual.json");
      const data = await response.json();

      // Verificar que el índice n sea válido y esté dentro del rango
      if (data && Array.isArray(data) && n !== null && n < data.length) {
        const book = data[n];

        // Actualizar los valores de los elementos del DOM con los datos del JSON
        areaElement.textContent = book.name;
        tituloElement.textContent = `${book.director} (${book.year})`;
        descripcionElement.textContent = book.descriction;
          descriptionElement.textContent = book.description;

        // Limpiar los elementos existentes en el punteo antes de agregar nuevos elementos
        punteoElement.innerHTML = "";
        // Crear y agregar elementos <li> para cada punto en el punteo
        book.puntos.forEach(punto => {
          const liElement = document.createElement("li");
          liElement.textContent = punto;
          punteoElement.appendChild(liElement);
        });

        // Actualizar el enlace del botón con el valor del campo "trailer" del JSON
        botonElement.href = book.trailer;
        botonElement.textContent = '¡Qué esperas para leerme!';

        // Actualizar la imagen con el valor del campo "pic_lg" del JSON
        fotoElement.src = `./assets/images/${book.pic_lg}`;
      } else {
        // En caso de que el índice n no sea válido, mostrar un mensaje de error
        areaElement.textContent = "Error";
        tituloElement.textContent = '¡Algo salió mal!';
        descripcionElement.textContent = "Por favor, vuelve a elegir otro trabajo";
        // Limpiar los elementos existentes en el punteo
        punteoElement.innerHTML = "";
        // Limpiar la imagen
        fotoElement.src = `./assets/images/error.png`;
        // Limpiar el enlace y el texto del botón
        botonElement.href = "#";
        botonElement.textContent = "";
      }
    } catch (error) {
      console.error("Error al obtener los datos:", error);
    }
  }

  // Llamar a la función para cargar los datos
  cargarDatos();
</script>


<script>
  window.addEventListener('DOMContentLoaded', () => {
    const n = new URLSearchParams(window.location.search).get("nro");
    fetch('audiovisual.json')
      .then(response => response.json())
      .then(data => {
        console.log(data);
        const section = document.querySelector(".contact-us.our-office");
        const area = section.querySelector("#area");
        const titulo = section.querySelector("#titulo");
        const descripcion = section.querySelector("#descripcion");
        const description = section.querySelector("#description");
        const punteo = section.querySelector("#punteo");
        const boton = section.querySelector("#boton");
        const foto = section.querySelector("#foto");

        if (n !== null && n < data.length) {
          const book = data[n];

          area.textContent = book.name;
          titulo.textContent = `${book.director} (${book.year})`;
          foto.src = `./assets/images/${book.pic_lg}`;
          descripcion.textContent = book.descripcion;
            description.textContent = book.description;
            
          book.puntos.forEach(punto => {
            let li = document.createElement('li');
            li.textContent = punto;
            punteo.appendChild(li);
          });

          boton.href = book.trailer;
          boton.textContent = '¡Qué esperas para leerme!';
        } else {
        area.textContent = "Error";
          titulo.textContent = '¡Algo salió mal!';
          foto.src = `./assets/images/error.png`;
          descripcion.textContent = "Porfavor, vuelve a elegir otro trabajo";
            
        }
      })
      .catch(error => console.error(error));
  });
</script>

  <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <script src="assets/js/isotope.min.js"></script>
    <script src="assets/js/owl-carousel.js"></script>
    <script src="assets/js/lightbox.js"></script>
    <script src="assets/js/tabs.js"></script>
    <script src="assets/js/video.js"></script>
    <script src="assets/js/slick-slider.js"></script>
    <script src="assets/js/custom.js"></script>
  
<script>
$(document).ready(function() {
  // Sobrescribe el comportamiento de los enlaces del submenú
  $('.sub-menu a').click(function(e) {
    e.preventDefault(); // Evita la redirección predeterminada del enlace
    var href = $(this).attr('href'); // Obtiene la URL del enlace

    // Redirige a la URL correspondiente
    window.location.href = href;
  });
});
</script>

<script>
  // Obtiene el valor del parámetro de la URL
  function getParameterByName(name, url) {
    if (!url) url = window.location.href;
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
  }

  function generateLinks() {
    const indiceSeleccionado = parseInt(getParameterByName('nro')); // Obtén el índice del objeto seleccionado desde la URL y conviértelo a entero

    fetch("audiovisual.json")
      .then(response => response.json())
      .then(data => {
        if (Array.isArray(data) && data.length > indiceSeleccionado) {
          const book = data[indiceSeleccionado]; // Obtenemos el objeto seleccionado

          // Creamos el contenido del modal
          const modalContent = document.createElement("div");
          modalContent.classList.add("modal-content");

          // Generar el contenido para videos
          if (book.videos && Array.isArray(book.videos) && book.videos.length > 0) {
            const videoSection = document.createElement("div");
            videoSection.innerHTML = "";
            const videoList = document.createElement("ul");
            book.videos.forEach(video => {
              const videoItem = document.createElement("li");
              const videoLink = document.createElement("a");
              videoLink.textContent = video.title;
              videoLink.href = video.url;
              videoLink.target = "_blank";
              videoItem.appendChild(videoLink);
              videoList.appendChild(videoItem);
            });
            videoSection.appendChild(videoList);
            modalContent.appendChild(videoSection);
          }

          // Agregamos el contenido del modal al DOM
          $("#pdfModal .modal-body").html(modalContent);
          $("#pdfModal").modal("show");
        } else {
          console.error("Error: El índice del objeto seleccionado es inválido o el JSON no contiene suficientes objetos.");
        }
      })
      .catch(error => {
        console.error("Error al obtener los datos del archivo JSON:", error);
        // Resto del código para manejar errores...
      });
  }

  $("#pdfexport").on("click", function () {
    generateLinks();
  });
</script>

    <script>
        //according to loftblog tut
        $('.nav li:first').addClass('active');

        var showSection = function showSection(section, isAnimate) {
          var
          direction = section.replace(/#/, ''),
          reqSection = $('.section').filter('[data-section="' + direction + '"]'),
          reqSectionPos = reqSection.offset().top - 0;

          if (isAnimate) {
            $('body, html').animate({
              scrollTop: reqSectionPos },
            800);
          } else {
            $('body, html').scrollTop(reqSectionPos);
          }

        };

        var checkSection = function checkSection() {
          $('.section').each(function () {
            var
            $this = $(this),
            topEdge = $this.offset().top - 80,
            bottomEdge = topEdge + $this.height(),
            wScroll = $(window).scrollTop();
            if (topEdge < wScroll && bottomEdge > wScroll) {
              var
              currentId = $this.data('section'),
              reqLink = $('a').filter('[href*=\\#' + currentId + ']');
              reqLink.closest('li').addClass('active').
              siblings().removeClass('active');
            }
          });
        };

        $('.main-menu, .responsive-menu, .scroll-to-section').on('click', 'a', function (e) {
          e.preventDefault();
          showSection($(this).attr('href'), true);
        });

        $(window).scroll(function () {
          checkSection();
        });
    </script>
    
    
<script>
$(document).ready(function() {
  // Sobrescribe el comportamiento de los enlaces del submenú
  $('.sub-menu a').click(function(e) {
    e.preventDefault(); // Evita la redirección predeterminada del enlace
    var href = $(this).attr('href'); // Obtiene la URL del enlace

    // Redirige a la URL correspondiente
    window.location.href = href;
  });
});
</script>




</body>

</html>
